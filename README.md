# Экзаменационное задание по дисциплине "Основы веб-технологий"

## Описание проекта

Это веб-сайт языковой школы "Polyglot", разработанный в рамках экзаменационного задания. Сайт позволяет студентам просматривать доступные языковые курсы, знакомиться с репетиторами, искать учебные ресурсы на интерактивной карте, а также создавать и управлять заявками на обучение через личный кабинет.

## Структура проекта

```
WEB_exam_2026/
├── index.html          # Главная страница сайта
├── account.html        # Страница личного кабинета
├── css/
│   └── style.css       # Основные стили сайта
├── js/
│   ├── api.js          # Модуль для работы с REST API
│   ├── main.js         # JavaScript для главной страницы
│   ├── account.js      # JavaScript для личного кабинета
│   └── map.js          # Модуль для работы с Яндекс.Картами
├── proxy-server.js     # Прокси-сервер для локальной разработки
├── package.json        # Конфигурация Node.js проекта
└── README.md           # Этот файл
```

## Функционал сайта

### Главная страница (index.html)

- **Шапка сайта** с логотипом и навигационным меню
- **Область уведомлений** для отображения сообщений пользователю
- **Блок описания** языковой школы и её миссии
- **Преимущества изучения языков** - карточки с использованием Bootstrap Grid System
- **Форма поиска курсов** по названию и уровню (Beginner, Intermediate, Advanced)
- **Список курсов** с пагинацией (6 курсов на страницу)
- **Список репетиторов** с возможностью просмотра детальной информации
- **Интерактивная карта** учебных ресурсов (Яндекс.Карты) с поиском и фильтрацией по категориям
- **Футер** с контактной информацией и ссылками на социальные сети

### Личный кабинет (account.html)

- **Форма создания заявки** на курс с полями:
  - Имя, Email, Телефон
  - Выбор курса или репетитора
  - Уровень языка
  - Дата и время начала занятий
  - Продолжительность, количество человек, цена
  - Комментарий
- **Таблица заявок** с отображением:
  - Порядковый номер
  - Название курса
  - Дата занятия
  - Общая стоимость
- **Действия с заявками**:
  - **Подробнее** - модальное окно с расширенной информацией о заявке
  - **Изменить** - модальное окно для редактирования заявки
  - **Удалить** - модальное окно подтверждения удаления
- **Пагинация** для просмотра заявок на нескольких страницах

## Технологии

- **HTML5** - разметка страниц
- **CSS3** - стилизация
- **JavaScript (ES6+)** - интерактивность и работа с API
- **Bootstrap 5.3.0** - адаптивная верстка и UI компоненты
- **Yandex Maps API** - интерактивная карта учебных ресурсов
- **Node.js** - прокси-сервер для локальной разработки

## API

Проект использует REST API для получения данных:

- `GET /api/courses?api_key=...` - получение списка курсов (с пагинацией)
- `GET /api/courses/{id}?api_key=...` - получение информации о конкретном курсе
- `GET /api/tutors?api_key=...` - получение списка репетиторов
- `GET /api/tutors/{id}?api_key=...` - получение информации о репетиторе
- `GET /api/orders?api_key=...` - получение списка заявок
- `POST /api/orders?api_key=...` - создание новой заявки
- `GET /api/orders/{id}?api_key=...` - получение информации о заявке
- `PUT /api/orders/{id}?api_key=...` - обновление заявки
- `DELETE /api/orders/{id}?api_key=...` - удаление заявки

**Важно:** API ключ передается как query параметр `api_key` во всех запросах.

## Установка и запуск

### Требования

- Node.js (версия 14 или выше) - для запуска прокси-сервера
- Современный браузер (Chrome, Firefox, Edge и т.д.)

### Шаг 1: Установка зависимостей

Проект использует только встроенные модули Node.js, поэтому установка дополнительных пакетов не требуется. Однако, если вы хотите использовать npm скрипты, убедитесь, что у вас установлен Node.js:

```bash
# Проверьте версию Node.js
node --version

# Если Node.js не установлен, скачайте его с https://nodejs.org/
```

### Шаг 2: Запуск прокси-сервера

**Зачем нужен прокси-сервер?**

При локальной разработке браузер блокирует запросы к API из-за политики безопасности CORS (Cross-Origin Resource Sharing). Когда вы открываете `index.html` напрямую через `file://` или через локальный сервер на другом порту, браузер считает, что запросы к API идут с другого домена, и блокирует их.

Прокси-сервер решает эту проблему:
1. Он работает на том же домене (`localhost:3001`), что и ваш сайт
2. Он перенаправляет запросы к `/api/*` на реальный API сервер
3. Он добавляет необходимые CORS заголовки в ответы, разрешая браузеру обрабатывать их

**Как запустить:**

Откройте терминал (PowerShell на Windows, Terminal на Mac/Linux) в папке проекта и выполните:

```bash
# Вариант 1: Через npm скрипт
npm start

# Вариант 2: Напрямую через Node.js
node proxy-server.js
```

После запуска вы увидите сообщения:
```
Прокси-сервер запущен на http://localhost:3001
Откройте в браузере: http://localhost:3001/index.html
API запросы будут проксироваться на: http://exam-api-courses.std-900.ist.mospolytech.ru
```

### Шаг 3: Открытие сайта в браузере

Откройте браузер и перейдите по адресу:
```
http://localhost:3001/index.html
```

**Важно:** Не открывайте файл напрямую через `file://` - это не будет работать из-за CORS. Всегда используйте прокси-сервер на `localhost:3001`.

### Шаг 4: Работа с сайтом

- На главной странице вы можете:
  - Просматривать курсы и репетиторов
  - Искать курсы по названию и уровню
  - Использовать интерактивную карту для поиска учебных ресурсов
  - Перейти в личный кабинет через меню

- В личном кабинете вы можете:
  - Создавать новые заявки на курсы
  - Просматривать список своих заявок
  - Редактировать и удалять заявки

## Настройка API ключей

В проекте используются два API ключа:

1. **API ключ для курсов** - уже настроен в `js/api.js`:
   ```javascript
   API_KEY = '0f2152ae-2c33-46cc-94d9-51656c675b81'
   ```

2. **API ключ для Яндекс.Карт** - уже настроен в `index.html`:
   ```html
   <script src="https://api-maps.yandex.ru/2.1/?apikey=1d855882-bac4-43e0-ae89-bcc930983e17&lang=en_US"></script>
   ```

Эти ключи уже встроены в проект и не требуют дополнительной настройки.

## Развертывание на хостинге

При развертывании на хостинге прокси-сервер не нужен, так как:

1. Сайт и API будут работать через HTTPS
2. Сервер API может быть настроен для разрешения запросов с вашего домена
3. Или сайт и API могут находиться на одном домене

В файле `js/api.js` есть автоматическое определение окружения:
- Если сайт открыт через `localhost:3001` - используется прокси (`/api`)
- В остальных случаях - прямое подключение к API

## Решение проблем

### Проблема: "CORS policy blocked"

**Решение:** Убедитесь, что вы запустили прокси-сервер и открываете сайт через `http://localhost:3001/index.html`, а не напрямую через `file://`.

### Проблема: "401 Unauthorized"

**Решение:** Проверьте, что API ключ правильно передается в запросах. Откройте консоль браузера (F12) и проверьте, что в URL запросов есть параметр `api_key`.

### Проблема: Карта не загружается

**Решение:** 
1. Проверьте подключение к интернету (Яндекс.Карты требуют интернет)
2. Убедитесь, что API ключ Яндекс.Карт корректный
3. Проверьте консоль браузера на наличие ошибок

### Проблема: Прокси-сервер не запускается

**Решение:**
1. Убедитесь, что порт 3001 не занят другим приложением
2. Проверьте, что Node.js установлен: `node --version`
3. Если порт занят, измените `PORT` в `proxy-server.js

## Особенности реализации

- **Адаптивный дизайн** - сайт корректно отображается на всех устройствах благодаря Bootstrap
- **Клиентская фильтрация** - поиск курсов работает на стороне клиента, если API не поддерживает фильтрацию
- **Кэширование данных** - информация о курсах и репетиторах кэшируется для уменьшения количества запросов
- **Обработка ошибок** - все ошибки API отображаются пользователю через систему уведомлений
- **Валидация форм** - формы проверяются перед отправкой на сервер

## Автор

Студент группы [ваша группа]
Экзаменационное задание по дисциплине "Основы веб-технологий"
2026 год
